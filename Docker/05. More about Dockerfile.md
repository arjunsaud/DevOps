# Dockerfiles

## Dockerfile

### 17

```
FROM ubuntu:14.04
LABEL name="Arjun Saud"
LABEL email="arjun@gmail.com"
ENV NAME name
ENV PASS password

RUN pwd>tmp/lstpwd.txt

RUN cd /tmp/

RUN pwd>/tmp/2ndpwd.txt


# To install software in container

RUN apt-get update && apt-get install -y openssh-server && apt-get install -y python

```

### 18

```
FROM ubuntu:14.04
LABEL name="Arjun Saud"
LABEL email="arjun@gmail.com"
ENV NAME name
ENV PASS password

RUN pwd>tmp/lstpwd.txt

RUN cd /tmp/

RUN pwd>/tmp/2ndpwd.txt


# To install software in container

RUN apt-get update && apt-get install -y openssh-server && apt-get install -y python

#Creating User

RUN useradd -d /home/anon(user dir) -g(group) root -G sudo -m -p $(echo "$PASS" | openssl passwd -1 -stdin) $NAME

# $NAME and $PASS are above env variables



RUN whoami > /tmp/1stwhoami.txt

#Change User

USER $NAME

RUN whoami > /tmp/2stwhoami.txt


# Copy Files or Folder from Local to Container with COPY

RUN mkdir -p /tmp/dir_name

COPY local_dir container_dir

#eg COPY /app /project


# Copy Files or Folder from Local to Container with ADD

RUN mkdir -p /tmp/dir_name

ADD local_dir container_dir

#eg ADD /app /project

```

## ADD vs COPY

Both Commands are used for copying files or folder

But COPY command copy as it is

ADD command extracts .tar file and keep contents of .tar file. It automatically extracts the file.
With ADD command we can use url of .tar file too

### 19 CMD

```
FROM ubuntu:14.04
LABEL name="Arjun Saud"
LABEL email="arjun@gmail.com"
ENV NAME name
ENV PASS password

RUN cd /tmp/

CMD ["python"]
```

This CMD command run command in bash of container
